# apiVersion: v1
# kind: ConfigMap
# metadata:
#   name: grafana-dashboards
#   namespace: monitoring
#   labels:
#     grafana_dashboard: "1"
# data:
#   kube-state-dashboard.json: |
#     {
#       "title": "Kube-State Metrics Minikube Complet",
#       "uid": "kube-minikube-complet",
#       "schemaVersion": 30,
#       "panels": [
#         {
#           "type": "stat",
#           "title": "Pods en Ã©tat Running",
#           "targets": [
#             { "expr": "count(kube_pod_status_phase{phase='Running'})", "legendFormat": "Running" }
#           ],
#           "gridPos": { "x": 0, "y": 0, "w": 6, "h": 6 }
#         },
#         {
#           "type": "stat",
#           "title": "Pods non disponibles",
#           "targets": [
#             { "expr": "sum(kube_deployment_status_replicas_unavailable)", "legendFormat": "Unavailable" }
#           ],
#           "gridPos": { "x": 6, "y": 0, "w": 6, "h": 6 }
#         },
#         {
#           "type": "stat",
#           "title": "Deployments totaux",
#           "targets": [
#             { "expr": "count(kube_deployment_created)", "legendFormat": "Deployments" }
#           ],
#           "gridPos": { "x": 0, "y": 6, "w": 6, "h": 6 }
#         },
#         {
#           "type": "stat",
#           "title": "ReplicaSets disponibles",
#           "targets": [
#             { "expr": "sum(kube_replicaset_status_replicas_available)", "legendFormat": "Available" }
#           ],
#           "gridPos": { "x": 6, "y": 6, "w": 6, "h": 6 }
#         },
#         {
#           "type": "stat",
#           "title": "ReplicaSets non disponibles",
#           "targets": [
#             { "expr": "sum(kube_replicaset_status_replicas_unavailable)", "legendFormat": "Unavailable" }
#           ],
#           "gridPos": { "x": 0, "y": 12, "w": 6, "h": 6 }
#         },
#         {
#           "type": "stat",
#           "title": "StatefulSets totaux",
#           "targets": [
#             { "expr": "count(kube_statefulset_created)", "legendFormat": "StatefulSets" }
#           ],
#           "gridPos": { "x": 6, "y": 12, "w": 6, "h": 6 }
#         },
#         {
#           "type": "stat",
#           "title": "Nodes totaux",
#           "targets": [
#             { "expr": "count(kube_node_info)", "legendFormat": "Nodes" }
#           ],
#           "gridPos": { "x": 0, "y": 18, "w": 6, "h": 6 }
#         },
#         {
#           "type": "stat",
#           "title": "Pods par namespace",
#           "targets": [
#             { "expr": "count(kube_pod_info) by (namespace)", "legendFormat": "{{namespace}}" }
#           ],
#           "gridPos": { "x": 6, "y": 18, "w": 6, "h": 6 }
#         }
#       ]
#     }
