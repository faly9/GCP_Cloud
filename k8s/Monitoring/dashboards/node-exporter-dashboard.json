{
  "title": "Surveillance Système (Node Exporter)",
  "uid": "node-dashboard",
  "schemaVersion": 30,
  "panels": [
    {
      "type": "gauge",
      "title": "Utilisation CPU (%)",
      "targets": [
        { "expr": "100 - (avg by (instance)(rate(node_cpu_seconds_total{mode='idle'}[5m])) * 100)" }
      ],
      "gridPos": { "x": 0, "y": 0, "w": 6, "h": 6 }
    },
    {
      "type": "gauge",
      "title": "Mémoire utilisée (%)",
      "targets": [
        { "expr": "(1 - (node_memory_MemAvailable_bytes / node_memory_MemTotal_bytes)) * 100" }
      ],
      "gridPos": { "x": 6, "y": 0, "w": 6, "h": 6 }
    },
    {
      "type": "gauge",
      "title": "Utilisation Disque (%)",
      "targets": [
        { "expr": "(1 - (node_filesystem_avail_bytes{mountpoint='/'} / node_filesystem_size_bytes{mountpoint='/'})) * 100" }
      ],
      "gridPos": { "x": 12, "y": 0, "w": 6, "h": 6 }
    }
  ]
}
